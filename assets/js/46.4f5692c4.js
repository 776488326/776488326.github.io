(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{355:function(t,a,v){"use strict";v.r(a);var _=v(7),s=Object(_.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"生产环境和开发环境配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#生产环境和开发环境配置"}},[t._v("#")]),t._v(" 生产环境和开发环境配置")]),t._v(" "),a("h2",{attrs:{id:"公共路径"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#公共路径"}},[t._v("#")]),t._v(" 公共路径")]),t._v(" "),a("ul",[a("li",[t._v("配置output项中的publicPath")]),t._v(" "),a("li",[t._v("定义打包文件的公共路径，而不采用相对路径")]),t._v(" "),a("li",[t._v("一般为项目的域名")])]),t._v(" "),a("h2",{attrs:{id:"环境变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境变量"}},[t._v("#")]),t._v(" 环境变量")]),t._v(" "),a("ul",[a("li",[t._v("在进行打包时传入当前的环境模式")]),t._v(" "),a("li",[t._v("npx webpack --env production")]),t._v(" "),a("li",[t._v("在webpack.config.js中可以获取到用户输入的环境模式")]),t._v(" "),a("li",[t._v("根据环境变量来动态返回对应的配置即可")])]),t._v(" "),a("h2",{attrs:{id:"拆分配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拆分配置"}},[t._v("#")]),t._v(" 拆分配置")]),t._v(" "),a("ul",[a("li",[t._v("将生产环境和开发环境的配置拆分到两个文件中")]),t._v(" "),a("li",[t._v("手动选择一个配置进行打包")]),t._v(" "),a("li",[t._v("npx webpack -c 路径")])]),t._v(" "),a("h2",{attrs:{id:"npm-脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#npm-脚本"}},[t._v("#")]),t._v(" npm 脚本")]),t._v(" "),a("ul",[a("li",[t._v("手动输入命令太麻烦可配置脚本来自动执行")]),t._v(" "),a("li",[t._v("创建package.json配置script选项")])]),t._v(" "),a("h2",{attrs:{id:"提取公共配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#提取公共配置"}},[t._v("#")]),t._v(" 提取公共配置")]),t._v(" "),a("ul",[a("li",[t._v("将生产环境和开发环境的共同配置提取到一个公共的配置中")]),t._v(" "),a("li",[t._v("使用webpack的merge插件将不同的配置进行合并")]),t._v(" "),a("li",[t._v("根据script的不同env来进行不同配置的合并")])])])}),[],!1,null,null,null);a.default=s.exports}}]);