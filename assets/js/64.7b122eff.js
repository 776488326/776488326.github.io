(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{537:function(t,e,r){"use strict";r.r(e);var s=r(30),a=Object(s.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h2",{attrs:{id:"mongodb文档"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#mongodb文档"}},[t._v("#")]),t._v(" MongoDB文档")]),t._v(" "),r("h3",{attrs:{id:"文档增加"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#文档增加"}},[t._v("#")]),t._v(" 文档增加")]),t._v(" "),r("ul",[r("li",[t._v("单个文档插入 db.users.insert({a:'b'}) insert命令")]),t._v(" "),r("li",[t._v("多个文档批量插入 db.shop.batchInsert([{a:'b'},{c:'d'}])\n"),r("ul",[r("li",[t._v("批量插入可以在插入数据前对所有数据进行自定义")]),t._v(" "),r("li",[t._v("插入过程遇到错误会停止，且错误文档之前的全部存储成功，之后的全部失败")]),t._v(" "),r("li",[t._v("可以配置continueOnError来忽略错误继续之后的插入")])])])]),t._v(" "),r("h3",{attrs:{id:"文档删除"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#文档删除"}},[t._v("#")]),t._v(" 文档删除")]),t._v(" "),r("ul",[r("li",[t._v("单个文档删除 db.users.list.remove({a:'a'})传入删除的集合。")]),t._v(" "),r("li",[t._v("所有文档删除 db.users.remove()，但是不会删除集合以及元信息。")]),t._v(" "),r("li",[t._v("集合删除 db.users.drop()，速度更快，集合所有的文档包括元信息全部删除")]),t._v(" "),r("li",[t._v("不可撤销，不可恢复")])]),t._v(" "),r("h3",{attrs:{id:"文档更新"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#文档更新"}},[t._v("#")]),t._v(" 文档更新")]),t._v(" "),r("ul",[r("li",[t._v("第一个参数为查询参数，第二个参数为修改器 db.users.update(docs:{},modifier:{})")]),t._v(" "),r("li",[t._v("查询参数：建议使用ObjectId(来匹配)，防止匹配到多个文档更新失败")]),t._v(" "),r("li",[t._v("修改器：可以为文档，会进行整体替换，可以为原子修改器\n"),r("ul",[r("li",[t._v("$set：{'$set':{'updateBefore': 'updateAfter'}}修改指定属性，属性名支持嵌套点语法")]),t._v(" "),r("li",[t._v("$inc：{'$inc':{'number':2}}将指定的键值增加2，键不存在会自动创建。只适用于数值类型的键")]),t._v(" "),r("li",[t._v("$push：{'$push':{'array':{'key':'val'}}}向指定的数组尾部添加一个对象，如果数组不存在则自动创建")]),t._v(" "),r("li",[t._v("$each：{'$push':{'array':{'$each':[{'key':'val'},{'key2':'val2'}]}}}配合push可以一次插入多个对象")])])]),t._v(" "),r("li",[t._v("第三个参数为true，则会在进行更新时判断如果找不到匹配的文档，根据匹配条件自动创建一个新的")]),t._v(" "),r("li",[t._v("第四个参数为为true，则会将所有匹配到的文档都进行更新。")])])])}),[],!1,null,null,null);e.default=a.exports}}]);